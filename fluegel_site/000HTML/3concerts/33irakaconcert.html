<!DOCTYPE html>
<html dir="ltr" lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="甍演奏会">
<title>甍演奏会</title>
<link rel="icon" href="../../999contents/00common_images/favicon.ico">
<link rel="stylesheet" href="../../999contents/777css/structure.css">
</head>

<body>

<header class="full-width-header">
  <div class="inner-container">
    <div class="top-links">
      <a href="../index.html">Home</a>
      <a href="../6info/63diary.html">日記</a>
      <a href="../6info/65search.html">サイトマップ</a>
    </div>

    <a href="../index.html" class="title-link-wrapper">
      <div class="title-area">
        <img src="../../999contents/00common_images/logo.png" alt="ロゴ" class="site-logo">
        <h1 class="site-title">早稲田大学コール・フリューゲル</h1>
      </div>
    </a>
  </div>
</header>

<nav class="full-width-nav">
  <div class="inner-container">
    <div class="menu-trigger" id="menu-trigger">
      <span></span>
      <span></span>
      <span></span>
    </div>

    <ul class="ddmenu2" id="nav-menu">
      <li><a href="../index.html">Home</a></li>
      <li>
        <a href="../1about/10aboutus.html">当団について</a>
        <ul>
          <li><a href="../1about/11greeting.html">ご挨拶</a></li>
          <li><a href="../1about/12history.html">沿革</a></li>
          <li><a href="../1about/13teachers.html">先生方紹介</a></li>
        </ul>
      </li>
      <li>
        <a href="../2recruit/20recruit.html">新入生募集</a>
        <ul>
          <li><a href="../2recruit/21aboutfluegel.html">フリューゲルについて</a></li>
          <li><a href="../2recruit/22year.html">フリューゲルの一年</a></li>
          <li><a href="../2recruit/23qa.html">Q&A</a></li>
        </ul>
      </li>
      <li>
        <a href="../3concerts/30concerts.html">演奏会</a>
        <ul>
          <li><a href="../3concerts/31regularconcert.html">定期演奏会</a></li>
          <li><a href="../3concerts/32history.html">過去の定期演奏会</a></li>
          <li><a href="../3concerts/33irakaconcert.html">甍演奏会</a></li>
          <li><a href="../3concerts/34record.html">活動記録</a></li>
        </ul>
      </li>
      <li>
        <a href="../4contest/40contest.html">コンクール</a>
        <ul>
          <li><a href="../4contest/41tokyo.html">東京都合唱コンクール</a></li>
          <li><a href="../4contest/42national.html">全日本合唱コンクール</a></li>
        </ul>
      </li>
      <li>
        <a href="../5partners/50partners.html">関連団体</a>
        <ul>
          <li><a href="../5partners/51shsglee.html">早稲田大学高等学院グリークラブ</a></li>
          <li><a href="../5partners/52irakakai.html">いらか会合唱団</a></li>
          <li><a href="../5partners/53choriraka.html">男声合唱団甍</a></li>
          <li><a href="../5partners/54shinnyuukai.html">晋友会合唱団</a></li>
        </ul>
      </li>
      <li>
        <a href="../6info/60information.html">お問い合わせ・コンテンツ</a>
        <ul>
          <li><a href="../6info/61contact.html">お問い合わせ</a></li>
          <li><a href="../6info/62access.html">アクセス</a></li>
          <li><a href="../6info/63diary.html">日記</a></li>
          <li><a href="../6info/64sns.html">SNS</a></li>
          <li><a href="../6info/65search.html">サイトマップ</a></li>
        </ul>
      </li>
    </ul>
  </div>
</nav>

<main class="inner-container content-body">
  <nav aria-label="breadcrumb">
    <ul class="breadcrumb">
      <li class="breadcrumb-item"><a href="../index.html">Home</a></li>
      <li class="breadcrumb-item"><a href="30concerts.html">演奏会</a></li>
      <li class="breadcrumb-item active" aria-current="page">甍演奏会</li>
    </ul>
  </nav>

  <div id="dynamic-content">
    <p>読み込み中...</p>
  </div>

  <div class="border-line"></div>

  <div class="list-link">
    <a href="31regularconcert.html">〉 定期演奏会</a><br>
    <a href="32history.html">〉 過去の定期演奏会</a><br>
    <a href="33irakaconcert.html">〉 甍演奏会</a><br>
    <a href="34record.html">〉 活動記録</a><br>    
  </div>
</main>

<footer class="full-width-footer">
  <div class="inner-container">
    <div class="footer-content">
      <div class="sns-footer-links">
        <a href="https://twitter.com/chorfluegel" target="_blank" class="sns-item">
          <img src="../../999contents/00common_images/x-icon.png" alt="X" class="sns-icon">
          <span>公式Twitter</span>
        </a>
        <a href="https://www.instagram.com/chorfluegel" target="_blank" class="sns-item">
          <img src="../../999contents/00common_images/insta-icon.png" alt="Instagram" class="sns-icon">
          <span>公式Instagram</span>
        </a>
        <a href="https://twitter.com/fluegel2026" target="_blank" class="sns-item">
          <img src="../../999contents/00common_images/x-icon.png" alt="X" class="sns-icon">
          <span>新歓用Twitter</span>
        </a>
        <a href="https://www.youtube.com/channel/UCwWPPTG2KxGf5YgngI1UkEg" target="_blank" class="sns-item">
          <img src="../../999contents/00common_images/youtube-icon.png" alt="YouTube" class="sns-icon">
          <span>YouTube</span>
        </a>
      </div>
      <p style = "text-align: center;" class="copyright">&copy; 2026 早稲田大学コール・フリューゲル <br>All Rights Reserved.</p>
    </div>
  </div>
</footer>

<script>
  // 汎用読み込み関数：見出し、画像（あれば）、本文
  async function loadBodyText(fileUrl) {
    try {
      const response = await fetch(fileUrl);
      if (!response.ok) throw new Error('読み込み失敗');
      const fullText = await response.text();

      // 区切り文字「===」でセクションを分割
      const sections = fullText.split(/\n\s*===\s*\n/);
      const container = document.getElementById('dynamic-content');
      container.innerHTML = ''; 

      sections.forEach(section => {
        // 全ての行を配列にし、余白を削る
        const lines = section.split(/\r?\n/).map(line => line.trim());
        // 空白行を除いた、中身のある行だけを特定
        const activeLines = lines.filter(line => line !== "");
        
        if (activeLines.length === 0) return;

        const title = activeLines[0]; // 1行目は見出し
        
        // 2行目以降から「.png, .jpg, .jpeg, .gif」を探す
        const imgIndex = activeLines.findIndex((line, idx) => idx > 0 && /\.(jpg|jpeg|png|gif)$/i.test(line));

        let imageHtml = '';
        let bodyLines = [];

        if (imgIndex !== -1) {
          // 画像ファイルが見つかった場合
          const photoName = activeLines[imgIndex];
          imageHtml = `<div class="body-image-wrapper"><img src="../../999contents/33irakaconcert/${photoName}" class="full-width-img"></div>`;
          // 画像ファイル名以外の行（タイトルより後）を本文候補にする
          bodyLines = activeLines.filter((_, idx) => idx > 0 && idx !== imgIndex);
        } else {
          // 画像がない場合
          bodyLines = activeLines.slice(1);
        }

        // 本文から「(なし)」や「なし」という指示文字を排除して結合
        const bodyText = bodyLines
          .filter(l => l !== "(なし)" && l !== "なし")
          .join('<br>');

        const sectionHtml = `
          <div class="content-section">
            <h2 class="main-heading">${title}</h2>
            ${imageHtml}
            <div class="standard-text">${bodyText}</div>
          </div>
        `;
        container.innerHTML += sectionHtml;
      });
    } catch (error) {
      console.error('Error:', error);
      document.getElementById('dynamic-content').innerHTML = "データの読み込みに失敗しました。";
    }
  }

  // 関数を呼び出し
  loadBodyText('../../999contents/33irakaconcert/irakaconcert.txt');

  // --- 2. メニュー制御 ---
  const trigger = document.getElementById('menu-trigger');
  const menu = document.getElementById('nav-menu');

  trigger.addEventListener('click', () => {
    trigger.classList.toggle('active');
    menu.classList.toggle('open');
  });

  const parentItems = document.querySelectorAll('.ddmenu2 > li > a');
  parentItems.forEach(item => {
    item.addEventListener('click', (e) => {
      if (window.innerWidth <= 1000) {
        const submenu = item.nextElementSibling;
        if (submenu && submenu.tagName === 'UL') {
          e.preventDefault();
          submenu.classList.toggle('show');
        }
      }
    });
  });
</script>

</body>
</html>